!function(window,angular){"use strict";angular.module("angulartics.intercom",["angulartics"]).directive("analyticsIntercom",["$analytics",function($analytics){return{restrict:"A",priority:100,link:function(scope,el,attr){if($analytics.settings.intercomRequiresAttribute){var props=scope.$eval(attr.analyticsProperties)||{};props.intercomEnabled=!0,attr.analyticsProperties=JSON.stringify(props)}}}}]).config(["$analyticsProvider",function($analyticsProvider){$analyticsProvider.registerPageTrack(function(path){window.Intercom&&($analyticsProvider.settings.intercomRequiresAttribute||window.Intercom("trackEvent","visit_page",{url:path}))}),$analyticsProvider.registerEventTrack(function(action,properties){if(properties=properties||{},window.Intercom&&(!$analyticsProvider.settings.intercomRequiresAttribute||properties.intercomEnabled)){var eventFormat=$analyticsProvider.settings.eventFormat||{eventType:!1,category:!1,label:!1},tokens=[action];properties.eventType&&eventFormat.eventType&&tokens.unshift(properties.eventType),properties.category&&eventFormat.category&&tokens.push(properties.category),properties.label&&eventFormat.label&&tokens.push(properties.label),delete properties.eventType,delete properties.category,delete properties.label,delete properties.intercom,delete properties.intercomEnabled,"{}"===JSON.stringify(properties)&&(properties=void 0),window.Intercom("trackEvent",tokens.join(" ").toLowerCase(),properties)}}),$analyticsProvider.registerSetUsername(function(userId){window.Intercom&&window.Intercom("update",{user_id:userId})})}])}(window,window.angular);
//# sourceMappingURL=../dist/angulartics-intercom.min.js.map